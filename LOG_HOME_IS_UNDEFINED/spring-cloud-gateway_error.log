21-10-26.09:35:56.701 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Spring MVC found on classpath, which is incompatible with Spring Cloud Gateway.

Action:

Please set spring.main.web-application-type=reactive or remove spring-boot-starter-web dependency.

21-10-26.10:27:38.482 [JSF-jsfRegistry-HB&Retry-7-T-1] ERROR RegistryServiceClient  - Send heartbeat to 11.50.214.21:40660 error
com.jd.jsf.gd.error.RpcException: [JSF-22103]Failed to call com.jd.jsf.service.RegistryService.doHeartbeat on remote server: [jsf://11.50.214.21:40660/?jsfVersion=1551], cause by: com.jd.jsf.gd.error.ClientTimeoutException, message is: [JSF-22110]Waiting provider return response timeout. Start time: 2021-10-26 10:23:52.258, End time: 2021-10-26 10:24:07.569, Client elapsed: 1487ms, Server elapsed: 13824ms, Timeout: 5000ms, MsgHeader: MessageHeader{msgId=5, length=347, codecType=2, msgType=1, protocolType=1, compressType=0, headerLength=19, keysMap= 1 : 5000 7 : 1744}, Channel: 10.13.153.169:56838 -> 11.50.214.21:40660.
	at com.jd.jsf.gd.client.FailoverClient.doSendMsg(FailoverClient.java:94)
	at com.jd.jsf.gd.client.TransportResettableClient.doSendMsg(TransportResettableClient.java:43)
	at com.jd.jsf.gd.client.Client.sendMsg(Client.java:550)
	at com.jd.jsf.gd.filter.ConsumerInvokeFilter.invoke(ConsumerInvokeFilter.java:80)
	at com.jd.jsf.gd.filter.ConsumerMonitorFilter.invoke(ConsumerMonitorFilter.java:59)
	at com.jd.jsf.gd.filter.ConsumerConcurrentsFilter.invoke(ConsumerConcurrentsFilter.java:80)
	at com.jd.jsf.gd.filter.MockFilter.invoke(MockFilter.java:56)
	at com.jd.jsf.gd.filter.ConsumerContextFilter.invoke(ConsumerContextFilter.java:56)
	at com.jd.jsf.gd.filter.ConsumerExceptionFilter.invoke(ConsumerExceptionFilter.java:29)
	at com.jd.jsf.gd.filter.FilterChain.invoke(FilterChain.java:292)
	at com.jd.jsf.gd.client.ClientProxyInvoker.invoke(ClientProxyInvoker.java:111)
	at com.jd.jsf.service.RegistryService_proxy_0.doHeartbeat(RegistryService_proxy_0.java)
	at com.jd.jsf.gd.registry.jsf.RegistryServiceClient.doHeartbeat(RegistryServiceClient.java:283)
	at com.jd.jsf.gd.registry.jsf.RegistryServiceClient.sendHeartBeat(RegistryServiceClient.java:411)
	at com.jd.jsf.gd.registry.jsf.RegistryServiceClient.access$100(RegistryServiceClient.java:41)
	at com.jd.jsf.gd.registry.jsf.RegistryServiceClient$1.run(RegistryServiceClient.java:353)
	at com.alibaba.mtc.MtContextRunnable.run(MtContextRunnable.java:46)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.jd.jsf.gd.error.ClientTimeoutException: [JSF-22110]Waiting provider return response timeout. Start time: 2021-10-26 10:23:52.258, End time: 2021-10-26 10:24:07.569, Client elapsed: 1487ms, Server elapsed: 13824ms, Timeout: 5000ms, MsgHeader: MessageHeader{msgId=5, length=347, codecType=2, msgType=1, protocolType=1, compressType=0, headerLength=19, keysMap= 1 : 5000 7 : 1744}, Channel: 10.13.153.169:56838 -> 11.50.214.21:40660.
	at com.jd.jsf.gd.client.MsgFuture.clientTimeoutException(MsgFuture.java:197)
	at com.jd.jsf.gd.client.MsgFuture.get(MsgFuture.java:174)
	at com.jd.jsf.gd.transport.AbstractTCPClientTransport.send(AbstractTCPClientTransport.java:66)
	at com.jd.jsf.gd.transport.JSFClientTransport.send(JSFClientTransport.java:34)
	at com.jd.jsf.gd.client.Client.sendMsg0(Client.java:676)
	at com.jd.jsf.gd.client.FailoverClient.doSendMsg(FailoverClient.java:68)
	... 23 common frames omitted
21-10-26.10:53:45.963 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Spring MVC found on classpath, which is incompatible with Spring Cloud Gateway.

Action:

Please set spring.main.web-application-type=reactive or remove spring-boot-starter-web dependency.

21-10-26.10:56:23.083 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Spring MVC found on classpath, which is incompatible with Spring Cloud Gateway.

Action:

Please set spring.main.web-application-type=reactive or remove spring-boot-starter-web dependency.

21-10-26.10:57:25.767 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Spring MVC found on classpath, which is incompatible with Spring Cloud Gateway.

Action:

Please set spring.main.web-application-type=reactive or remove spring-boot-starter-web dependency.

21-10-26.11:19:35.787 [JSF-jsfRegistry-HB&Retry-7-T-1] ERROR RegistryServiceClient  - Send heartbeat to 11.50.214.21:40660 error
com.jd.jsf.gd.error.RpcException: [JSF-22103]Failed to call com.jd.jsf.service.RegistryService.doHeartbeat on remote server: [jsf://11.50.214.21:40660/?jsfVersion=1551], cause by: com.jd.jsf.gd.error.ClientTimeoutException, message is: [JSF-22110]Waiting provider return response timeout. Start time: 2021-10-26 11:19:11.323, End time: 2021-10-26 11:19:27.544, Client elapsed: 1ms, Server elapsed: 16220ms, Timeout: 5000ms, MsgHeader: MessageHeader{msgId=4, length=348, codecType=2, msgType=1, protocolType=1, compressType=0, headerLength=19, keysMap= 1 : 5000 7 : 1744}, Channel: 10.13.153.169:61183 -> 11.50.214.21:40660.
	at com.jd.jsf.gd.client.FailoverClient.doSendMsg(FailoverClient.java:94)
	at com.jd.jsf.gd.client.TransportResettableClient.doSendMsg(TransportResettableClient.java:43)
	at com.jd.jsf.gd.client.Client.sendMsg(Client.java:550)
	at com.jd.jsf.gd.filter.ConsumerInvokeFilter.invoke(ConsumerInvokeFilter.java:80)
	at com.jd.jsf.gd.filter.ConsumerMonitorFilter.invoke(ConsumerMonitorFilter.java:59)
	at com.jd.jsf.gd.filter.ConsumerConcurrentsFilter.invoke(ConsumerConcurrentsFilter.java:80)
	at com.jd.jsf.gd.filter.MockFilter.invoke(MockFilter.java:56)
	at com.jd.jsf.gd.filter.ConsumerContextFilter.invoke(ConsumerContextFilter.java:56)
	at com.jd.jsf.gd.filter.ConsumerExceptionFilter.invoke(ConsumerExceptionFilter.java:29)
	at com.jd.jsf.gd.filter.FilterChain.invoke(FilterChain.java:292)
	at com.jd.jsf.gd.client.ClientProxyInvoker.invoke(ClientProxyInvoker.java:111)
	at com.jd.jsf.service.RegistryService_proxy_0.doHeartbeat(RegistryService_proxy_0.java)
	at com.jd.jsf.gd.registry.jsf.RegistryServiceClient.doHeartbeat(RegistryServiceClient.java:283)
	at com.jd.jsf.gd.registry.jsf.RegistryServiceClient.sendHeartBeat(RegistryServiceClient.java:411)
	at com.jd.jsf.gd.registry.jsf.RegistryServiceClient.access$100(RegistryServiceClient.java:41)
	at com.jd.jsf.gd.registry.jsf.RegistryServiceClient$1.run(RegistryServiceClient.java:353)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:308)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.jd.jsf.gd.error.ClientTimeoutException: [JSF-22110]Waiting provider return response timeout. Start time: 2021-10-26 11:19:11.323, End time: 2021-10-26 11:19:27.544, Client elapsed: 1ms, Server elapsed: 16220ms, Timeout: 5000ms, MsgHeader: MessageHeader{msgId=4, length=348, codecType=2, msgType=1, protocolType=1, compressType=0, headerLength=19, keysMap= 1 : 5000 7 : 1744}, Channel: 10.13.153.169:61183 -> 11.50.214.21:40660.
	at com.jd.jsf.gd.client.MsgFuture.clientTimeoutException(MsgFuture.java:197)
	at com.jd.jsf.gd.client.MsgFuture.get(MsgFuture.java:174)
	at com.jd.jsf.gd.transport.AbstractTCPClientTransport.send(AbstractTCPClientTransport.java:66)
	at com.jd.jsf.gd.transport.JSFClientTransport.send(JSFClientTransport.java:34)
	at com.jd.jsf.gd.client.Client.sendMsg0(Client.java:676)
	at com.jd.jsf.gd.client.FailoverClient.doSendMsg(FailoverClient.java:68)
	... 23 common frames omitted
21-10-26.11:19:35.790 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Spring MVC found on classpath, which is incompatible with Spring Cloud Gateway.

Action:

Please set spring.main.web-application-type=reactive or remove spring-boot-starter-web dependency.

21-10-26.15:59:13.967 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Spring MVC found on classpath, which is incompatible with Spring Cloud Gateway.

Action:

Please set spring.main.web-application-type=reactive or remove spring-boot-starter-web dependency.

21-10-26.20:29:55.877 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method modifyRequestBodyGatewayFilterFactory in org.springframework.cloud.gateway.config.GatewayAutoConfiguration required a bean of type 'org.springframework.http.codec.ServerCodecConfigurer' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.http.codec.ServerCodecConfigurer' in your configuration.

